@using Common
@using Common.Exceptions
@using WebApp.Model.TableRenders.Renders
@using Domain;


@{
    var renderInfo = (ValueObjectViewModel)ViewData[ValueObjectViewModel.Name];
    Defensive.AssertNotNull(renderInfo, "Forms Item RenderInfo is not found");

    var htmlAttributes = !renderInfo.Descriptor.Readonly ? new { @class = "form-control" } as object : new { @class = "form-control", disabled = "disabled", @readonly = "readonly" };

    htmlAttributes = htmlAttributes.Merge(renderInfo.Descriptor.HtmlAttributes);
}

@Html.DropDownList($"{renderInfo.Descriptor.Name}.{nameof(ValueObject.Id)}", renderInfo.Items, renderInfo.OptionalLabel, htmlAttributes)


